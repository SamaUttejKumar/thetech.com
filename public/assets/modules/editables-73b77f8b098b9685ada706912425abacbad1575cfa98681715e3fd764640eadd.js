(function(){var e;e=function(){var e,t;return jQuery.fn.selectText=function(){var e,t,n,e,i;this.find("input").each(function(){0!==$(this).prev().length&&$(this).prev().hasClass("p_copy")||$('<p class="p_copy" style="position: absolute; z-index: -1;"></p>').insertBefore($(this)),$(this).prev().html($(this).val())}),t=document,n=this[0],t.body.createTextRange?(e=document.body.createTextRange(),e.moveToElementText(n),e.select()):window.getSelection&&(i=window.getSelection(),e=document.createRange(),e.selectNodeContents(n),i.removeAllRanges(),i.addRange(e))},t=function(t){var n;return t.append($("<i class='fa fa-circle-o-notch fa-spin'></i>")),n=$("#editable_form"),n.attr("action",t.data("editable-url")),n.children("input[type=hidden]").attr("name",t.data("editable-object")+"["+t.data("editable-field")+"]"),n.children("input[type=hidden]").val(t.text()),e(this,!1),$.rails.handleRemote(n)},e=function(e,t){var n;return n=$(e).parents("[data-editable-mark-state]"),t?n.attr("id",n.attr("id")+":::editing"):n.each(function(e,t){return console.log(t),$(t).attr("id",$(t).attr("id").split(":::")[0])})},$(document).on("click","[data-editable-url]",function(){if("true"!==$(this).attr("contenteditable"))return $(this).attr("contenteditable","true"),$(this).data("editable-original",$(this).text()),e(this,!0),$(this).selectText()}),$(document).on("focusout","[data-editable-url]",function(){return $(this).attr("contenteditable","false"),$(this).text()!==$(this).data("editable-original")?confirm("Do you want to save your change? ")?t($(this)):($(this).text($(this).data("editable-original")),e(this,!1)):e(this,!1)}),$(document).on("keypress","[data-editable-url]",function(n){var i;return i=n.keyCode?n.keyCode:n.which,13===i&&(e(this,!1),$(this).attr("contenteditable","false"),t($(this))),!0})},$(document).ready(e),$(document).on("turbolinks:load",e)}).call(this);