!function(){function e(e,n){function a(t){if(t=l.list[t],t.equals(e.editable())||"true"==t.getAttribute("contenteditable")){var n=e.createRange();n.selectNodeContents(t),n.select()}else e.getSelection().selectElement(t);e.focus()}function i(){r&&r.setHtml('<span class="cke_path_empty">&nbsp;</span>'),delete l.list}var r,s=e.ui.spaceId("path"),l=e._.elementsPath,c=l.idBase;n.html+='<span id="'+s+'_label" class="cke_voice_label">'+e.lang.elementspath.eleLabel+'</span><span id="'+s+'" class="cke_path" role="group" aria-labelledby="'+s+'_label"><span class="cke_path_empty">&nbsp;</span></span>',e.on("uiReady",function(){var t=e.ui.space("path");t&&e.focusManager.add(t,1)}),l.onClick=a;var u=CKEDITOR.tools.addFunction(a),d=CKEDITOR.tools.addFunction(function(t,n){var o,i=l.idBase;switch(n=new CKEDITOR.dom.event(n),o="rtl"==e.lang.dir,n.getKeystroke()){case o?39:37:case 9:return(o=CKEDITOR.document.getById(i+(t+1)))||(o=CKEDITOR.document.getById(i+"0")),o.focus(),!1;case o?37:39:case CKEDITOR.SHIFT+9:return(o=CKEDITOR.document.getById(i+(t-1)))||(o=CKEDITOR.document.getById(i+(l.list.length-1))),o.focus(),!1;case 27:return e.focus(),!1;case 13:case 32:return a(t),!1}return!0});e.on("selectionChange",function(){for(var t,n=[],a=l.list=[],i=[],p=l.filters,h=!0,m=e.elementPath().elements,f=m.length;f--;){var g=m[f],v=0;t=g.data("cke-display-name")?g.data("cke-display-name"):g.data("cke-real-element-type")?g.data("cke-real-element-type"):g.getName(),(h=g.hasAttribute("contenteditable")?"true"==g.getAttribute("contenteditable"):h)||g.hasAttribute("contenteditable")||(v=1);for(var E=0;E<p.length;E++){var T=p[E](g,t);if(!1===T){v=1;break}t=T||t}v||(a.unshift(g),i.unshift(t))}for(a=a.length,p=0;p<a;p++)t=i[p],h=e.lang.elementspath.eleTitle.replace(/%1/,t),t=o.output({id:c+p,label:h,text:t,jsTitle:"javascript:void('"+t+"')",index:p,keyDownFn:d,clickFn:u}),n.unshift(t);r||(r=CKEDITOR.document.getById(s)),i=r,i.setHtml(n.join("")+'<span class="cke_path_empty">&nbsp;</span>'),e.fire("elementsPathUpdate",{space:i})}),e.on("readOnly",i),e.on("contentDomUnload",i),e.addCommand("elementsPathFocus",t.toolbarFocus),e.setKeystroke(CKEDITOR.ALT+122,"elementsPathFocus")}var t={toolbarFocus:{editorFocus:!1,readOnly:1,exec:function(e){(e=CKEDITOR.document.getById(e._.elementsPath.idBase+"0"))&&e.focus(CKEDITOR.env.ie||CKEDITOR.env.air)}}},n="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(n+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(n+=' onblur="this.style.cssText = this.style.cssText;"');var o=CKEDITOR.addTemplate("pathItem",'<a id="{id}" href="{jsTitle}" tabindex="-1" class="cke_path_item" title="{label}"'+n+' hidefocus="true"  onkeydown="return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );" onclick="CKEDITOR.tools.callFunction({clickFn},{index}); return false;" role="button" aria-label="{label}">{text}</a>');CKEDITOR.plugins.add("elementspath",{lang:"en",init:function(t){t._.elementsPath={idBase:"cke_elementspath_"+CKEDITOR.tools.getNextNumber()+"_",filters:[]},t.on("uiSpace",function(n){"bottom"==n.data.space&&e(t,n.data)})}})}();