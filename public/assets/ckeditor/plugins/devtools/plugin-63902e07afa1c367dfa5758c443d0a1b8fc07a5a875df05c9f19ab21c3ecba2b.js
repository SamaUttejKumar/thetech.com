CKEDITOR.plugins.add("devtools",{lang:"en",init:function(e){e._.showDialogDefinitionTooltips=1},onLoad:function(){CKEDITOR.document.appendStyleText(CKEDITOR.config.devtools_styles||"#cke_tooltip { padding: 5px; border: 2px solid #333; background: #ffffff }#cke_tooltip h2 { font-size: 1.1em; border-bottom: 1px solid; margin: 0; padding: 1px; }#cke_tooltip ul { padding: 0pt; list-style-type: none; }")}}),function(){function e(e,t,n,o){e=e.lang.devtools;var a='<a href="http://docs.ckeditor.com/#!/api/CKEDITOR.dialog.definition.'+(n?"text"==n.type?"textInput":n.type:"content")+'" target="_blank">'+(n?n.type:"content")+"</a>";return t="<h2>"+e.title+"</h2><ul><li><strong>"+e.dialogName+"</strong> : "+t.getName()+"</li><li><strong>"+e.tabName+"</strong> : "+o+"</li>",n&&(t+="<li><strong>"+e.elementId+"</strong> : "+n.id+"</li>"),t+="<li><strong>"+e.elementType+"</strong> : "+a+"</li>",t+"</ul>"}function t(e,t,o,a,i,r){var s=t.getDocumentPosition(),l={"z-index":CKEDITOR.dialog._.currentZIndex+10,top:s.y+t.getSize("height")+"px"};n.setHtml(e(o,a,i,r)),n.show(),"rtl"==o.lang.dir?(e=CKEDITOR.document.getWindow().getViewPaneSize(),l.right=e.width-s.x-t.getSize("width")+"px"):l.left=s.x+"px",n.setStyles(l)}var n;CKEDITOR.on("reset",function(){n&&n.remove(),n=null}),CKEDITOR.on("dialogDefinition",function(o){var a=o.editor;if(a._.showDialogDefinitionTooltips){n||(n=CKEDITOR.dom.element.createFromHtml('<div id="cke_tooltip" tabindex="-1" style="position: absolute"></div>',CKEDITOR.document),n.hide(),n.on("mouseover",function(){this.show()}),n.on("mouseout",function(){this.hide()}),n.appendTo(CKEDITOR.document.getBody()));var i=o.data.definition.dialog,r=a.config.devtools_textCallback||e;i.on("load",function(){for(var e,o=i.parts.tabs.getChildren(),s=0,l=o.count();s<l;s++)e=o.getItem(s),e.on("mouseover",function(){var e=this.$.id;t(r,this,a,i,null,e.substring(4,e.lastIndexOf("_")))}),e.on("mouseout",function(){n.hide()});i.foreach(function(e){if(!(e.type in{hbox:1,vbox:1})){var o=e.getElement();o&&(o.on("mouseover",function(){t(r,this,a,i,e,i._.currentTabId)}),o.on("mouseout",function(){n.hide()}))}})})}})}();